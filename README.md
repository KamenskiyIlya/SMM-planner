# SMM-planner

Данный проект представляет из себя контент планнер. Он позволяет Вам выкладывать в раличные соцсети (VK, Одноклассники, Telegram) посты, указывать время для постинга, делать их временными и удалять. Организовано это все через удобную Google таблицу. Помимо этого данная таблицу будет из себя представлять ещё и SMM календарь, ведь Вы будете видеть всю необходимую информацию о Ваших постах.

## Необходимые настройки

Первым делом, Вам необходимо скопировать [шаблон google таблицы](https://docs.google.com/spreadsheets/d/1xXmrUItW77YpIHAv3Qh0bDOB6SbjLRBWTQwSAfn_tpw/edit?usp=sharing) к себе в аккаунт:
<img width="973" height="520" alt="image" src="https://github.com/user-attachments/assets/16ec5508-af76-4462-bbed-4b32d77b87c8" />

И скачать репозиторий с проектом в любой удобное место:
<img width="1152" height="526" alt="image" src="https://github.com/user-attachments/assets/781e44b6-3a50-4e41-80e3-84326b3a7d0a" />

Также важно создать файл переменного окружения `.env` в нашей директории, в него по мере настройки будем добавлять ключи для взаимодействия с соцсетями.
> Данный файл не должен иметь расширение .txt

### Настраиваем доступ программы к таблице

Для того, чтобы эта программа могла считывать и записывать данные с таблицы, необходимо настроить к ней доступ.

У Вас должен быть аккаунт Google, если его нет можно создать на этой [странице](https://accounts.google.com/lifecycle/steps/signup/name?dsh=S-970504023:1769350024505370&flowEntry=SignUp&flowName=GlifWebSignIn&TL=APgKAcbniJFKQ1u6BikOMbsP1J7SWz1nJ0bdO__Ytkv1iwDgxlh6IuuyptWQVN01&continue=https://accounts.google.com/ManageAccount?nc%3D1). Создаем проект на странице [создания проектов](https://console.cloud.google.com/projectcreate):
<img width="790" height="600" alt="image" src="https://github.com/user-attachments/assets/c486556e-a3ff-4539-a31a-8a00badef4b2" />

Далее переходим на [страницу](https://console.cloud.google.com/iam-admin/serviceaccounts) и создаем сервисный аккаунт:
<img width="1353" height="427" alt="image" src="https://github.com/user-attachments/assets/ff6a9a4a-f7e6-4e34-9197-ccf1c800a49c" />

После того как создан сервисный аккаунт, нажимаем на три точки рядом с ним и нажимаем `manage keys`:
<img width="1587" height="575" alt="image" src="https://github.com/user-attachments/assets/03c08633-6050-43fa-beed-1d54119cdbf2" />

Затем нажимаете внизу кнопку `Add key` и в открышемся меню `Create new key`:
<img width="1192" height="610" alt="image" src="https://github.com/user-attachments/assets/6ecb03e8-15f7-4156-bd10-dc10fb27e4c6" />

Выбираете формат `JSON`:
<img width="669" height="228" alt="image" src="https://github.com/user-attachments/assets/5446eaf3-cc5c-444f-9c22-2e3cd39fda6f" />

Начнется закачка файла с ключом к сервисному аккаунту, никому не сообщайте его, с его помощью программа будет получать доступ к Google таблице. После того как файл загрузился, перенесите его в директирию проекта и переименуйте в `token.json`.

После создания ключа, Вам будет предложено скачать файл с токеном, обязательно это делаете и сохраняете его в директорию программы.

Активируем Google Sheets API, для этого переходим по [ссылке](https://console.cloud.google.com/marketplace/product/google/sheets.googleapis.com) и нажимаем кнопку `Enable`:
<img width="901" height="448" alt="image" src="https://github.com/user-attachments/assets/58416053-b325-4d39-932e-8b939e7f2548" />

Дальше, на [странице](https://console.cloud.google.com/iam-admin/serviceaccounts) с информацией о сервисном аккаунте копируем его адрес:
![Снимок экрана 2026-01-25 173748 (1) (1)](https://github.com/user-attachments/assets/96df921a-1c6a-4103-814d-d9a2616562be)

Открывает скопированный шаблон таблицы и даете доступ к этой таблице как редактору Вашему сервисному аккаунту указывая его адрес в отмеченном поле:
<img width="1836" height="378" alt="image" src="https://github.com/user-attachments/assets/897660b5-2941-4c61-881f-4bd4fa30d7cc" />

Проверяем, помимо Вас в доступах должен появиться и сервисный аккаунт:
![Снимок экрана 2026-01-25 174645 (1)](https://github.com/user-attachments/assets/30208a61-05f7-4463-95e6-14bff74fddd6)

## Получения ключа от Telegram

Для постинга в телеграмм, необходимо создать бота. По ссылке можете найти подробную [инструкцию по его настройке](https://way23.ru/%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B1%D0%BE%D1%82%D0%B0-%D0%B2-telegram.html). Создаете бота, добавляете его в свою группу по инструкции и получаете ключ от бота(token).

После того как мы получили от [@BotFather](https://telegram.me/BotFather) ключ к боту с помощью команды `/token`, добавляем его в наш файл `.env` в следующем формате:
```
TG_BOT_TOKEN='Ключ от бота'
```
Также нам необходимо узнать id нашей группы в telegram. Для этого заходите в группу, в верхнем правом углу нажимаете 3 точки, там мы увидем id нашей группы:
<img width="486" height="277" alt="image" src="https://github.com/user-attachments/assets/5ea29970-ead6-4852-928f-9b02d1a90e55" />

Далее в наш файл `.env` заносим только id с @ в начале в следующем формате:
```
CHAT_ID='@ID_Вашей_группы'
```

## Получение ключа от Одноклассников

## Получение ключа от Vkontakte

## Настройка Python

Для работы данной программы у Вас должен быть установлен [python3](https://www.python.org/downloads/).

Далее открываем консоль `cmd`, переходим в директирию с проектом, введя следующую команду:
```
cd путь к директирии
```
Дальше устанавливаем необхоидмые пакеты python с помощью команды:
```
pip install -r requirements.txt
```
После чего необходимо запустить основной скрипт на Вашем компьютере или на сервере через консоль с помощью команды:
```
python general_smm_publisher.py
```
После запуска скрипта сервис постинга будет работать до тех пор, пока включен этот скрипт, вы должны увидеть следующее сообщение в консолиЖ
<img width="1088" height="142" alt="image" src="https://github.com/user-attachments/assets/9c2504e5-bb5f-41fd-972e-0638536ec212" />

## Настройка Google Docs

## Как работать с таблицей

Первым делом Вам необходимо указать в столбике `ссылка на пост` ссылку на пост созданный в Google Docs. Далее проставляете время(если укажете только дату, будет выбрано стандартное время 13:00), когда пост необходимо выпустить. После чего галочками отмечаете соцсети в которых необходимо выложить Ваш пост:
<img width="1683" height="180" alt="image" src="https://github.com/user-attachments/assets/d86a6874-9b23-4e5c-b9bf-b131dae17109" />

Когда прийдет время выложить пост, программа попробует его выложить в указанную соцсеть, если все пройдет удачно, в таблице отметится галочка `Пост в ...` и в столбике `ID поста в ...` появится номер Вашего поста. Если же возникнет какая-то ошибка, об этом будет написано в столбце `ID поста в ...`.

Также у программы есть возможность выкладывать временные посты на 8 часов. После истечения этого времени пост будет автоматически удален. От Вас нужно только поставить галочку в столбце `Временный пост`.

Если Вы захотели удалить какой-то пост, поставьте галочку в столбцах `Удалить пост в ...`. Если пост успешно удалится в столбце `ID поста в ...` об этом будет сообщено, а галочки публикации будут сняты.

